#
# init:     init this dir one-time
# clean:    clear all artifact generated by init, but not run dirs
# run:      debug run directly here. Normal run should be invoked from ~/REGULUS/jobs.config
#

init:
	./reg_expand.sh

run:
	. ${REG_ROOT}/lab.config && this-run --label DRY

dry-run:
	. ${REG_ROOT}/lab.config && DRY_RUN=1 NUM_SAMPLES=1 OCP_PROJECT=crucible-hnhan this-run --label DRY

wet-run:
	. ${REG_ROOT}/lab.config && NUM_SAMPLES=1 OCP_PROJECT=crucible-hnhan this-run --label DRY

clean:
	find . -maxdepth 1 \( -type f -o -type l \) ! \( -name "makefile" -o -name "reg_expand.sh" \) -exec rm -v {} +
	rmrun --label DRY

